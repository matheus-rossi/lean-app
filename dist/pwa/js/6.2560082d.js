(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"03eb":function(t,a,e){"use strict";var r=e("95ef"),o=e.n(r);o.a},"2b28":function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("q-card",{staticClass:"q-ma-xs col"},[e("q-card-section",{staticClass:"bg-primary text-white text-center"},[e("div",{staticClass:"text-h6"},[t._v("Análise de Pareto")])]),e("q-card-section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-xs-12 q-pa-sm"},[e("q-input",{ref:"inputone",staticClass:"margin-min",attrs:{filled:"",type:"text",label:"Descrição da Ocorrência"},model:{value:t.problem,callback:function(a){t.problem=a},expression:"problem"}})],1),e("div",{staticClass:"col-md-2 col-xs-12 q-pa-sm"},[e("div",{staticClass:"wid-qtd"},[e("q-input",{staticClass:"margin-min",attrs:{filled:"",type:"number",label:"Quantidade"},model:{value:t.qtd,callback:function(a){t.qtd=t._n(a)},expression:"qtd"}})],1)])]),e("div",{staticClass:"col-12"},[e("q-btn",{staticClass:"btn-right-drawer items-center col",attrs:{color:"primary"},on:{click:t.addProblem}},[t._v("Adicionar")]),e("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.showChart,expression:"showChart"}],staticClass:"btn-right-drawer items-center col",attrs:{color:"primary"},on:{click:t.cleanData}},[t._v("Limpar")])],1)]),e("q-card-section",{directives:[{name:"show",rawName:"v-show",value:t.showChart,expression:"showChart"}]},[e("div",{staticClass:"graph",attrs:{id:"chart"}}),e("div",{staticClass:"q-pa-xs"},[e("q-table",{attrs:{title:"Folha de Dados",data:t.paretoAr,columns:t.columns,pagination:t.pagination,"pagination-label":t.getPaginationLabel,"rows-per-page-options":[0,25,50,100],"no-data-label":"Sem Dados","rows-per-page-label":"Linhas por Página"},on:{"update:pagination":function(a){t.pagination=a}}})],1)])],1)],1)},o=[],s=(e("c975"),e("4e82"),e("2d5f")),i=e.n(s),n=e("2ef0"),l=e.n(n),c={name:"pareto",data(){return{problem:"",qtd:null,paretoAr:[],paretoArChart:[],showChart:!1,columns:[{name:"descricao",label:"Descrição Ocorrência",field:"problem",align:"left",sortable:!0},{name:"operacao",label:"Quantidade",field:"qtd",sortable:!0}],pagination:{rowsPerPage:0}}},mounted(){this.paretoAr=[{problem:"Problema 1",qtd:50},{problem:"Problema 2",qtd:450},{problem:"Problema 3",qtd:150},{problem:"Problema 4",qtd:300},{problem:"Problema 5",qtd:100},{problem:"Problema 6",qtd:75},{problem:"Problema 7",qtd:600}],this.paretoAr=this.paretoAr.sort(this.compare),this.paretoArChart=this.paretoCalculation(this.paretoAr),this.chartData(),this.showChart=!0},methods:{cleanData(){this.paretoAr=[],this.paretoArray=[],this.showChart=!1},getPaginationLabel(t,a,e){return`${t}-${a} de ${e}`},addProblem(){if(""===this.problem||null===this.qtd)return alert("Missing fields to complete!");this.showChart=!0;const t=this.paretoAr,a=t.map((function(t){return t.problem})).indexOf(this.problem);if(-1===a){const t={problem:this.problem,qtd:this.qtd};this.paretoAr.push(t),this.paretoAr=this.paretoAr.sort(this.compare),this.paretoArChart=this.paretoCalculation(this.paretoAr),this.chartData(),this.problem=null,this.qtd=null,this.$refs.inputone.focus()}else alert("Descrição já informada!")},compare(t,a){return t.qtd>a.qtd?-1:t.qtd<a.qtd?1:0},chartData(){setTimeout(()=>i.a.generate({data:{bindto:"#chart",x:"x",columns:[this.paretoArChart.finalPatternX,this.paretoArChart.finalPatternQtd,this.paretoArChart.finalPatternAcc],type:"bar",types:{"% Acumulado":"spline"},axes:{"% Acumulado":"y2"}},axis:{x:{type:"category",tick:{rotate:90,multiline:!1}},y2:{show:!0,min:10,max:100}},grid:{y:{lines:[{value:80,text:"80% das Ocorrências",axis:"y2"}]}}}),50)},paretoCalculation(t){const a=t.sort(this.compare),e=[["x"]],r=[["Quantidade"]],o=[["% Acumulado"]],s=a.map(t=>t.problem),i=a.map(t=>t.qtd),n=i.reduce((t,a)=>t+a),c=i.map(t=>Math.round(t/n*100)),p=c.reduce((function(t,a,e){return t.push((t[e-1]||0)+a),t}),[]),d=l.a.flattenDeep(o.concat(p)),h=l.a.flattenDeep(e.concat(s)),m=l.a.flattenDeep(r.concat(i));return{finalPatternX:h,finalPatternQtd:m,finalPatternAcc:d}}}},p=c,d=(e("03eb"),e("2877")),h=e("f09f"),m=e("a370"),u=e("27f9"),b=e("9c40"),f=e("eaac"),q=e("eebe"),C=e.n(q),w=Object(d["a"])(p,r,o,!1,null,null,null);a["default"]=w.exports;C()(w,"components",{QCard:h["a"],QCardSection:m["a"],QInput:u["a"],QBtn:b["a"],QTable:f["a"]})},"95ef":function(t,a,e){}}]);