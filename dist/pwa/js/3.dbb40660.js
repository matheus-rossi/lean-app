(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{0:function(a,t){},"2af7":function(a,t,e){"use strict";var s=e("b04d"),o=e.n(s);o.a},3:function(a,t){},4:function(a,t){},"65ee":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{attrs:{id:"app-container"}},[e("q-card",{staticClass:"q-ma-xs"},[e("q-card-section",{staticClass:"bg-primary text-white text-center"},[e("div",{staticClass:"text-h6"},[a._v("GBO - Gráfico de Balanceamento Operacional")])]),e("q-card-section",[e("div",{staticClass:"q-pa-xs"},[a._v("Insira as informações solicitadas abaixo:")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",type:"number",min:0,label:"Takt Time"},model:{value:a.takt,callback:function(t){a.takt=a._n(t)},expression:"takt"}})],1),e("div",{staticClass:"col-6"},[e("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",type:"number",min:0,max:100,label:"Tempo de Ciclo"},model:{value:a.cycle,callback:function(t){a.cycle=a._n(t)},expression:"cycle"}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-3 col-md-3 col-sm-12 col-xs-12"},[e("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",type:"text",label:"Centro de Trabalho"},model:{value:a.processId,callback:function(t){a.processId=t},expression:"processId"}})],1),e("div",{staticClass:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},[e("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",type:"text",label:"Descrição da Etapa"},model:{value:a.processName,callback:function(t){a.processName=t},expression:"processName"}})],1),e("div",{staticClass:"col-lg-3 col-md-3 col-sm-12 col-xs-12"},[e("q-input",{staticClass:"q-pa-xs",attrs:{filled:"",type:"number",min:0,label:"Tempo da Operação"},model:{value:a.lowRepCycle,callback:function(t){a.lowRepCycle=a._n(t)},expression:"lowRepCycle"}})],1)]),e("br"),e("div",{staticClass:"button-obc"},[e("q-btn",{staticClass:"q-ma-xs",attrs:{color:"primary"},on:{click:a.addOperator}},[a._v("Adicionar Operação")]),e("q-btn",{staticClass:"q-ma-xs",attrs:{color:"primary"},on:{click:a.cleanData}},[a._v("Limpar Dados")]),e("q-btn",{staticClass:"q-ma-xs",attrs:{color:"primary"},on:{click:function(t){return a.$refs.importFile.$el.click()}}},[e("form",{attrs:{id:"form"}},[e("q-input",{ref:"importFile",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:a.onChangeXlsx}})],1),a._v("\n          Importar Dados\n        ")])],1)]),e("q-card-section",[e("div",{attrs:{id:"chart"}}),e("div",{staticClass:"q-pa-xs"},[e("q-table",{attrs:{title:"Folha de Processo",data:a.obc,columns:a.columns,pagination:a.pagination,"pagination-label":a.getPaginationLabel,"rows-per-page-options":[0,25,50,100],"no-data-label":"Sem Dados","rows-per-page-label":"Linhas por Página"},on:{"update:pagination":function(t){a.pagination=t}}})],1)])],1)],1)},o=[],c=(e("ace4"),e("5cc6"),e("2d5f")),l=e.n(c),i=e("2ef0"),n=e.n(i);const r={obcCalc(a){const t=[["x"]],e=[["# Processo"]],s=[["Takt"]],o=[["Ciclo"]],c=n.a.uniq(a.map(a=>a.processId)),l=n.a.flattenDeep(t.concat(c)),i=[];for(let n=0;n<c.length;n++){const t=a.filter(a=>a.processId===c[n]).map(a=>a.lowRepCycle).reduce((a,t)=>a+t);i.push(t)}const r=n.a.flattenDeep(e.concat(i)),p=[],d=[];for(let u=0;u<c.length;u++){const t=a.filter(a=>a.processId===c[u]).map(a=>a.takt);p.push(n.a.uniq(t))}const h=s.concat(n.a.flattenDeep(p));for(let u=0;u<c.length;u++){const t=a.filter(a=>a.processId===c[u]).map(a=>a.cycle);d.push(n.a.uniq(t))}const m=o.concat(n.a.flattenDeep(d));return{finalFirstCol:l,finalSecondCol:r,finalThirdCol:h,finalFourthCol:m}}};var p=r,d=e("1146"),h=e.n(d),m={name:"obc",data(){return{show:!1,takt:90,cycle:80,processId:"Pintura",processName:"Preparação",lowRepCycle:65,obc:[{takt:90,cycle:80,processId:"Corte / Dobra",processName:"Corte",lowRepCycle:43},{takt:90,cycle:80,processId:"Corte / Dobra",processName:"Dobra",lowRepCycle:35},{takt:90,cycle:80,processId:"Montagem",processName:"Montagem 1",lowRepCycle:55},{takt:90,cycle:80,processId:"Montagem",processName:"Montagem 1",lowRepCycle:47},{takt:90,cycle:80,processId:"Solda",processName:"Solda 1",lowRepCycle:47},{takt:90,cycle:80,processId:"Solda",processName:"Solda 2",lowRepCycle:47},{takt:90,cycle:80,processId:"Inspeção",processName:"Inspeção",lowRepCycle:47}],chartData:[],file:"",pagination:{rowsPerPage:0},columns:[{name:"centrodetrabalho",label:"Centro de Trabalho",field:"processName",align:"left",sortable:!0},{name:"operacao",label:"Operação",field:"processId",align:"left",sortable:!0},{name:"tempo",label:"Tempo",field:"lowRepCycle",sortable:!0}]}},mounted(){this.chartData=this.obcCalculation(this.obc),this.chart(),this.show=!0},methods:{addOperator(){if(null===this.takt||null===this.cycle||""===this.processName||""===this.processId||null===this.lowRepCycle)return alert("Campos Obrigatórios Vazios");const a={takt:this.takt,cycle:this.cycle,processName:this.processName,processId:this.processId,lowRepCycle:this.lowRepCycle};this.obc.push(a),this.chartData=this.obcCalculation(this.obc),this.chart(),this.show=!0},getPaginationLabel(a,t,e){return`${a}-${t} de ${e}`},obcCalculation(a){return p.obcCalc(a)},cleanData(){this.processId="",this.processName="",this.lowRepCycle="",this.takt=null,this.cycle=null,this.obc=[],this.chartData=[],this.show=!1,document.getElementById("form").reset()},chart(){setTimeout(()=>{l.a.generate({data:{bindto:"#chart",x:"x",columns:[this.chartData.finalFirstCol,this.chartData.finalSecondCol,this.chartData.finalThirdCol,this.chartData.finalFourthCol],type:"bar",types:{Takt:"line",Ciclo:"line"},axes:{takt:"y2"}},legend:{position:"inset"},axis:{x:{type:"category",tick:{rotate:75,multiline:!1},height:150}}})},50)},onChangeXlsx(a){const t=a.target.files,e=t[0],s=new FileReader,o=this;s.onload=function(a){const t=new Uint8Array(a.target.result),e=h.a.read(t,{type:"array"}),s=h.a.utils.sheet_to_json(e.Sheets.Planilha1);o.obc=s},s.readAsArrayBuffer(e)}},watch:{obc:function(){this.chartData=this.obcCalculation(this.obc),this.chart()}}},u=m,f=(e("2af7"),e("2877")),b=e("f09f"),C=e("a370"),y=e("27f9"),g=e("9c40"),w=e("eaac"),x=e("eebe"),k=e.n(x),q=Object(f["a"])(u,s,o,!1,null,null,null);t["default"]=q.exports;k()(q,"components",{QCard:b["a"],QCardSection:C["a"],QInput:y["a"],QBtn:g["a"],QTable:w["a"]})},b04d:function(a,t,e){}}]);